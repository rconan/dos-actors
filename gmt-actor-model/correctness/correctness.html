<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Correctness - GMT DOS ACTORS</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../index.html">Introduction</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/gmt-actor-model.html"><strong aria-hidden="true">1.</strong> GMT Actors Model</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../gmt-actor-model/actors/actors.html"><strong aria-hidden="true">1.1.</strong> Actors</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/data/data.html"><strong aria-hidden="true">1.2.</strong> Data</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/model/model.html"><strong aria-hidden="true">1.3.</strong> Model</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/clients/client.html"><strong aria-hidden="true">1.4.</strong> Clients</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../gmt-actor-model/clients/sig-log/sig-log.html"><strong aria-hidden="true">1.4.1.</strong> Signals & Logger</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/clients/feedback/feedback.html"><strong aria-hidden="true">1.4.2.</strong> Feedback System</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/clients/multirate/multirate.html"><strong aria-hidden="true">1.4.3.</strong> Multirate System</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/clients/persistence/persistence.html"><strong aria-hidden="true">1.4.4.</strong> Persistence</a></li></ol></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/aggregation/aggregation.html"><strong aria-hidden="true">1.5.</strong> Aggregation</a></li><li class="chapter-item expanded "><a href="../../gmt-actor-model/correctness/correctness.html" class="active"><strong aria-hidden="true">1.6.</strong> Correctness</a></li></ol></li><li class="chapter-item expanded "><a href="../../grim/grim.html"><strong aria-hidden="true">2.</strong> GRISM</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../grim/io/io.html"><strong aria-hidden="true">2.1.</strong> IO</a></li><li class="chapter-item expanded "><a href="../../grim/arrow/arrow.html"><strong aria-hidden="true">2.2.</strong> ARROW</a></li><li class="chapter-item expanded "><a href="../../grim/fem/fem.html"><strong aria-hidden="true">2.3.</strong> FEM</a></li><li class="chapter-item expanded "><a href="../../grim/control/control.html"><strong aria-hidden="true">2.4.</strong> Control</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../grim/control/mount/mount.html"><strong aria-hidden="true">2.4.1.</strong> Mount</a></li><li class="chapter-item expanded "><a href="../../grim/control/m1/m1.html"><strong aria-hidden="true">2.4.2.</strong> M1</a></li><li class="chapter-item expanded "><a href="../../grim/control/m2/m2.html"><strong aria-hidden="true">2.4.3.</strong> M2</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../grim/control/m2/fsm/fsm.html"><strong aria-hidden="true">2.4.3.1.</strong> FSM</a></li><li class="chapter-item expanded "><a href="../../grim/control/m2/asm/asm.html"><strong aria-hidden="true">2.4.3.2.</strong> ASM</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../grim/windloads/windloads.html"><strong aria-hidden="true">2.5.</strong> WINDLOADS</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">GMT DOS ACTORS</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/rconan/dos-actors/tree/main/book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/rconan/dos-actors/edit/main/book/src/gmt-actor-model/correctness/correctness.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="correctness"><a class="header" href="#correctness">Correctness</a></h1>
<p>Correctness, in the context of the GMT Actors Model, refers to the verification process that checks for error in the code written by users of the <code>gmt-dos-actor</code> API.
The code is checked for mistakes both at compiled-time and at runtime. 
This formal process makes developping an integrated model with <code>gmt-dos-actor</code> very safe as it ensures that the likehood of having written a &quot;correct&quot; model is very high.</p>
<p>A &quot;correct' model is a model build with Rust code that complies with the following:</p>
<ol>
<li>a pair of input and output must have the same <code>UID</code>,</li>
<li>a pair of input and output must have the same sampling rate: <code>NI=NO</code>,</li>
<li>an actor with an input sampling rate <code>NI=0</code> must have no input,</li>
<li>an actor with an input sampling rate <code>NI&gt;0</code> must have at least one input,</li>
<li>an actor with an output sampling rate <code>NO=0</code> must have no output,</li>
<li>an actor with an output sampling rate <code>NO&gt;0</code> must have at least one output,</li>
<li>in a model, taking into account all actors, there must be as many inputs as outputs,</li>
<li>in a model, taking into account all actors, the sum of inputs hashes must be equal to the sum of the outputs hashes.</li>
</ol>
<p>If the code doesn't comply with any of the aboves, either it won't compile sucessfully or it will panic before the model is run.</p>
<p>For rapid troubleshooting it is important to be able to associate error messages with the corresponding compliance clause.
In the following, we give examples of faulty code, with the generated error messsage, for some of the compliance clauses:</p>
<ul>
<li>a pair of input and output must have the same <code>UID</code></li>
</ul>
<pre><code class="language-rust no_run noplayground">    let mut timer: Initiator&lt;_&gt; = Timer::new(3).into();
    let mut signals: Actor&lt;_&gt; = Signals::new(1, 3).into();
    timer.add_output().build::&lt;In&gt;();</code></pre>
<p><img src="uid_clause.png" alt="UID clause" /></p>
<pre><code class="language-rust no_run noplayground">    let mut timer: Initiator&lt;_&gt; = Timer::new(3).into();
    let mut logging = Logging::&lt;f64&gt;::new(2).into_arcx();
    let mut logger = Terminator::&lt;_&gt;::new(logging.clone());
    timer.add_output().build::&lt;Tick&gt;().into_input(&amp;mut logger);</code></pre>
<p><img src="uid_output_clause.png" alt="UID clause" /></p>
<ul>
<li>a pair of input and output must have the same sampling rate: <code>NI=NO</code></li>
</ul>
<pre><code class="language-rust no_run noplayground">    let mut timer: Initiator&lt;_&gt; = Timer::new(3).into();
    let mut signals: Actor&lt;_, 2&gt; = Signals::new(1, 3).into();
    timer
        .add_output()
        .build::&lt;Tick&gt;()
        .into_input(&amp;mut signals)
        .unwrap();</code></pre>
<p><img src="rate_clause.png" alt="rate clause" /></p>
<ul>
<li>an actor with an input sampling rate <code>NI&gt;0</code> must have at least one input</li>
</ul>
<pre><code class="language-rust no_run noplayground">            let mut timer: Actor&lt;Timer, 1&gt; = Timer::new(3).into();
            let mut signals: Actor&lt;Signals, 1&gt; = Signals::new(1, 3).into();
            timer
                .add_output()
                .build::&lt;Tick&gt;()
                .into_input(&amp;mut signals)?;
            model!(timer, signals).check()?;</code></pre>
<p><img src="noinputs_positiverate_clause.png" alt="no inputs positive rate clause" /></p>
<ul>
<li>an actor with an output sampling rate <code>NO&gt;0</code> must have at least one output,</li>
</ul>
<pre><code class="language-rust no_run noplayground">            let mut timer: Initiator&lt;_&gt; = Timer::new(3).into();
            let mut signals: Actor&lt;_&gt; = Signals::new(1, 3).into();
            timer
                .add_output()
                .build::&lt;Tick&gt;()
                .into_input(&amp;mut signals)?;
            let logging = Logging::&lt;f64&gt;::new(1).into_arcx();
            let mut logger = Actor::&lt;_&gt;::new(logging.clone());
            #[derive(UID)]
            enum Sig {}
            signals
                .add_output()
                .build::&lt;Sig&gt;()
                .into_input(&amp;mut logger)?;
            model!(timer, signals, logger).check()?;</code></pre>
<p><img src="nooutputs_positiverate_clause.png" alt="no outputs positive rate clause" /></p>
<ul>
<li>in a model, taking into account all actors, there must be as many inputs as outputs,</li>
</ul>
<pre><code class="language-rust no_run noplayground">            let mut timer: Initiator&lt;_&gt; = Timer::new(3).into();
            let mut signals: Actor&lt;_&gt; = Signals::new(1, 3).into();
            timer
                .add_output()
                .build::&lt;Tick&gt;()
                .into_input(&amp;mut signals)?;
            let logging = Logging::&lt;f64&gt;::new(1).into_arcx();
            let mut logger = Terminator::&lt;_&gt;::new(logging.clone());
            #[derive(UID)]
            enum Sig {}
            signals
                .add_output()
                .build::&lt;Sig&gt;()
                .into_input(&amp;mut logger)?;
            model!(timer, signals).check()?;</code></pre>
<p><img src="inputs_outputs_number_mismatch_clause.png" alt="inputs outputs number mismatch clause" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../gmt-actor-model/aggregation/aggregation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../grim/grim.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../gmt-actor-model/aggregation/aggregation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../grim/grim.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
